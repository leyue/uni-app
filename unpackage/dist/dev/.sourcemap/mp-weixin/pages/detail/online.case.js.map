{"version":3,"sources":["webpack:///D:/home/uni_app/pages/detail/online.case.vue?abaa","webpack:///D:/home/uni_app/pages/detail/online.case.vue?c553","webpack:///D:/home/uni_app/pages/detail/online.case.vue?a5e5","webpack:///D:/home/uni_app/pages/detail/online.case.vue?2e0f","webpack:///D:/home/uni_app/pages/detail/online.case.vue","webpack:///D:/home/uni_app/pages/detail/online.case.vue?b2e4","webpack:///D:/home/uni_app/pages/detail/online.case.vue?872d"],"names":["props","components","uniCard","uniIcons","collapse","WucTab","computed","cases","doc","archive","online","modules","key","push","name","length","module","moduleIdx","categorys","Object","keys","watch","filters","formatName","item","alias","nameFileds","split","temp","id","slice","calcProgress","val","status1","progress","data","items","methods","onStatusChange","e","$store","commit","target","value","onModuleChange","idx","onLogDownload","url","app","_id","log","httpUri","console","task","uni","downloadFile","tempFilePath","success","res","fail","complete","saveFile","onProgressUpdate","totalBytesWritten","totalBytesExpectedToWrite","abort"],"mappings":"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","file":"pages/detail/online.case.js","sourcesContent":["import { render, staticRenderFns } from \"./online.case.vue?vue&type=template&id=2cc00783&\"\nimport script from \"./online.case.vue?vue&type=script&lang=js&\"\nexport * from \"./online.case.vue?vue&type=script&lang=js&\"\nimport style0 from \"./online.case.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../tools/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"D:\\\\home\\\\tools\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('2cc00783', component.options)\n    } else {\n      api.reload('2cc00783', component.options)\n    }\n    module.hot.accept(\"./online.case.vue?vue&type=template&id=2cc00783&\", function () {\n      api.rerender('2cc00783', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"uni_app/pages/detail/online.case.vue\"\nexport default component.exports","export * from \"-!../../../tools/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-hbuilderx/packages/webpack-uni-nvue-loader/lib/templateLoader.js??vue-loader-options!../../../tools/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../tools/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../tools/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../tools/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../tools/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./online.case.vue?vue&type=template&id=2cc00783&\"","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var l1 = _vm.__map(_vm.categorys, function(item, idx) {\n    var l0 = _vm.__map(_vm.cases[_vm.module][item], function(cItem, cIdx) {\n      var f0 = _vm._f(\"formatName\")(cItem)\n\n      var f1 = _vm._f(\"calcProgress\")(cItem)\n\n      var g0 = JSON.parse(JSON.stringify(cItem))\n      return {\n        $orig: _vm.__get_orig(cItem),\n        f0: f0,\n        f1: f1,\n        g0: g0\n      }\n    })\n\n    return {\n      $orig: _vm.__get_orig(item),\n      l0: l0\n    }\n  })\n\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        l1: l1\n      }\n    }\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import mod from \"-!../../../tools/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../tools/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../tools/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../tools/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../tools/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../tools/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./online.case.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../tools/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../tools/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../tools/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../tools/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../tools/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../tools/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./online.case.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport {mapState, mapGetters} from 'vuex';\nimport {uniCard, uniIcons} from '@dcloudio/uni-ui';\nimport WucTab from '@/components/wuc-tab/wuc-tab.vue';\nimport collapse from '../../components/collapse';\nexport default {\n  props: {},\n  components: {\n    uniCard,\n    uniIcons,\n    collapse,\n    WucTab,\n  },\n  computed: {\n    ...mapState('detail', {}),\n    ...mapGetters('detail', ['doc']),\n    cases() {\n      if (!this.doc) {\n        return [];\n      }\n      let cases = this.doc.archive.cases.online;\n      return cases;\n    },\n    modules() {\n      if (!this.doc) {\n        return null;\n      }\n      let cases = this.cases;\n      let modules = [];\n      for (let key in cases) {\n        modules.push({name: key});\n      }\n      return modules.length ? modules : null;\n    },\n    module() {\n      if (!this.doc || !this.modules) {\n        return null;\n      }\n      let module = this.modules[this.moduleIdx].name;\n      return module;\n    },\n    categorys() {\n      if (!this.doc || !this.module) {\n        return null;\n      }\n      let cases = this.cases[this.module];\n      let categorys = Object.keys(cases);\n      return categorys;\n    },\n  },\n  watch: {},\n  filters: {\n    formatName(item) {\n      let name = item.alias;\n      let nameFileds = item.name.split('_');\n      let temp = nameFileds[nameFileds.length - 1];\n      let id = temp.slice(0, temp.length - 3);\n      return `${id}-${name}`;\n    },\n    calcProgress(item) {\n      let val = item.status1.progress;\n      val = val.slice(0, val.length - 1);\n      return +val / 100;\n    },\n  },\n  data() {\n    return {\n      moduleIdx: 0,\n      items: [],\n    };\n  },\n  methods: {\n    onStatusChange(e) {\n      this.$store.commit('detail/setOnlineStatus', e.target.value);\n    },\n    onModuleChange(idx) {},\n    onLogDownload(item) {\n      let url = `http://nats-sh.unisoc.com:30001/nginx/download/logs/test/${this.doc.app}_${this.doc._id}/online${item.log.httpUri}`;\n      console.log(url);\n      const task = uni.downloadFile({\n        url,\n        tempFilePath: '',\n        success: res => {\n          console.log(res);\n        },\n        fail: () => {},\n        complete: () => {\n          uni.saveFile();\n        },\n      });\n      task.onProgressUpdate(res => {\n        console.log('下载进度' + res.progress);\n        console.log('已经下载的数据长度' + res.totalBytesWritten);\n        console.log('预期需要下载的数据总长度' + res.totalBytesExpectedToWrite);\n        // 测试条件，取消下载任务。\n        if (res.progress > 50) {\n          task.abort();\n        }\n      });\n    },\n  },\n};\n","import mod from \"-!../../../tools/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../tools/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../tools/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--6-oneOf-1-2!../../../tools/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../tools/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../tools/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../tools/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../tools/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./online.case.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../tools/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../tools/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../tools/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--6-oneOf-1-2!../../../tools/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../tools/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../tools/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../tools/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../tools/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./online.case.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin"],"sourceRoot":""}